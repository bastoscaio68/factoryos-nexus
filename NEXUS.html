<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FactoryOS Nexus ‚Äî Command Center</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #020205;
            color: #fff;
            overflow: hidden;
            height: 100vh;
        }
        #bg { position: fixed; inset: 0; z-index: 0; }
        
        /* HEADER */
        .header {
            position: fixed; top: 0; left: 0; right: 0; height: 60px;
            background: linear-gradient(180deg, rgba(2,2,5,0.95) 0%, transparent 100%);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 24px; z-index: 100; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo-icon {
            width: 40px; height: 40px; background: linear-gradient(135deg, #00d4ff, #a855f7);
            border-radius: 10px; display: flex; align-items: center; justify-content: center;
            font-size: 20px; font-weight: bold;
        }
        .logo-text { font-size: 20px; font-weight: 700; letter-spacing: -0.5px; }
        .logo-text span { background: linear-gradient(135deg, #00d4ff, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .header-stats { display: flex; gap: 24px; }
        .stat-pill {
            display: flex; align-items: center; gap: 8px; padding: 8px 16px;
            background: rgba(255,255,255,0.05); border-radius: 50px; font-size: 13px;
        }
        .dot { width: 8px; height: 8px; border-radius: 50%; }
        .dot.green { background: #10b981; box-shadow: 0 0 10px #10b981; }
        .dot.yellow { background: #f59e0b; box-shadow: 0 0 10px #f59e0b; }
        
        /* GRID LAYOUT */
        .grid {
            position: fixed; inset: 80px 24px 24px; display: grid;
            grid-template-columns: 280px 1fr 320px;
            grid-template-rows: 1fr 200px;
            gap: 20px; z-index: 10;
        }
        
        /* CARDS */
        .card {
            background: rgba(15,15,25,0.9); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 16px; backdrop-filter: blur(20px); overflow: hidden;
        }
        .card-header {
            padding: 16px 20px; border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex; align-items: center; justify-content: space-between;
        }
        .card-title { font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: rgba(255,255,255,0.5); }
        .card-body { padding: 20px; overflow-y: auto; height: calc(100% - 53px); }
        
        /* AGENTS PANEL */
        .agents-list { display: flex; flex-direction: column; gap: 8px; }
        .agent-row {
            display: flex; align-items: center; gap: 12px; padding: 12px;
            background: rgba(255,255,255,0.03); border-radius: 10px;
            border: 1px solid transparent; cursor: pointer; transition: all 0.2s;
        }
        .agent-row:hover { background: rgba(0,212,255,0.08); border-color: rgba(0,212,255,0.2); }
        .agent-avatar {
            width: 36px; height: 36px; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; font-size: 18px;
        }
        .agent-info { flex: 1; }
        .agent-name { font-weight: 600; font-size: 14px; }
        .agent-task { font-size: 12px; color: rgba(255,255,255,0.4); }
        .agent-status { width: 8px; height: 8px; border-radius: 50%; }
        
        /* MAIN DASHBOARD */
        .main-area { display: grid; grid-template-rows: 1fr 1fr; gap: 20px; }
        .chart-container { position: relative; height: 100%; min-height: 200px; }
        .chart-title { position: absolute; top: 16px; left: 20px; font-size: 14px; font-weight: 600; }
        .pnl-big {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            text-align: center;
        }
        .pnl-value { font-size: 48px; font-weight: 800; background: linear-gradient(135deg, #10b981, #00d4ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pnl-label { font-size: 14px; color: rgba(255,255,255,0.5); margin-top: 8px; }
        
        /* METRICS GRID */
        .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
        .metric-box {
            background: rgba(255,255,255,0.03); border-radius: 12px; padding: 16px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .metric-label { font-size: 12px; color: rgba(255,255,255,0.4); margin-bottom: 8px; }
        .metric-value { font-size: 24px; font-weight: 700; }
        .metric-value.blue { background: linear-gradient(135deg, #00d4ff, #00ffcc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .metric-value.green { background: linear-gradient(135deg, #10b981, #34d399); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .metric-value.purple { background: linear-gradient(135deg, #a855f7, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .metric-value.yellow { background: linear-gradient(135deg, #f59e0b, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .metric-change { font-size: 12px; margin-top: 4px; }
        .metric-change.up { color: #10b981; }
        .metric-change.down { color: #ef4444; }
        
        /* TRADING PANEL */
        .trades-list { display: flex; flex-direction: column; gap: 8px; }
        .trade-row {
            display: flex; align-items: center; gap: 12px; padding: 12px;
            background: rgba(255,255,255,0.03); border-radius: 10px;
        }
        .trade-icon { width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .trade-info { flex: 1; }
        .trade-pair { font-weight: 600; font-size: 14px; }
        .trade-size { font-size: 12px; color: rgba(255,255,255,0.4); }
        .trade-pnl { font-weight: 600; font-size: 14px; }
        .trade-pnl.positive { color: #10b981; }
        .trade-pnl.negative { color: #ef4444; }
        
        /* BOTTOM PANEL */
        .bottom-panel { grid-column: 1 / -1; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .console-output { font-family: 'JetBrains Mono', monospace; font-size: 12px; line-height: 1.8; color: rgba(255,255,255,0.6); }
        .console-line { display: flex; gap: 12px; }
        .console-time { color: rgba(255,255,255,0.3); }
        .console-type { width: 60px; font-weight: 600; }
        .console-type.info { color: #00d4ff; }
        .console-type.success { color: #10b981; }
        .console-type.warning { color: #f59e0b; }
        .console-type.error { color: #ef4444; }
        
        /* QUICK ACTIONS */
        .actions-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .action-btn {
            padding: 12px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 10px; color: rgba(255,255,255,0.7); font-size: 12px; cursor: pointer;
            display: flex; flex-direction: column; align-items: center; gap: 8px; transition: all 0.2s;
        }
        .action-btn:hover { background: rgba(0,212,255,0.1); border-color: rgba(0,212,255,0.3); color: white; }
        .action-icon { font-size: 20px; }
        
        /* CHAT WIDGET */
        .chat-widget {
            position: fixed; bottom: 24px; right: 360px; width: 400px; z-index: 100;
            background: rgba(15,15,25,0.95); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px; backdrop-filter: blur(20px); overflow: hidden;
        }
        @media (max-width: 1024px) {
            .chat-widget { right: 24px; width: 350px; bottom: 280px; }
        }
        @media (max-width: 768px) {
            .chat-widget { right: 12px; left: 12px; width: auto; bottom: 90px; }
        }
        @media (max-width: 480px) {
            .chat-widget { bottom: 85px; border-radius: 12px; }
        }
        .chat-header { padding: 16px; background: linear-gradient(135deg, rgba(0,212,255,0.2), rgba(168,85,247,0.2)); border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; gap: 12px; }
        .chat-avatar { width: 36px; height: 36px; background: linear-gradient(135deg, #00d4ff, #a855f7); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .chat-title { font-weight: 600; font-size: 14px; }
        .chat-status { font-size: 12px; color: rgba(255,255,255,0.5); }
        .chat-messages { height: 200px; padding: 16px; overflow-y: auto; }
        @media (max-width: 768px) {
            .chat-messages { height: 150px; }
        }
        .chat-msg { margin-bottom: 12px; display: flex; flex-direction: column; }
        .chat-msg.user { align-items: flex-end; }
        .chat-msg.user .msg-bubble { background: linear-gradient(135deg, #00d4ff, #00ffcc); color: #020205; }
        .chat-msg.omega .msg-bubble { background: rgba(255,255,255,0.1); }
        .msg-bubble { padding: 10px 14px; border-radius: 12px; font-size: 13px; max-width: 280px; }
        @media (max-width: 768px) {
            .msg-bubble { font-size: 14px; padding: 12px 16px; max-width: 100%; }
        }
        .chat-input-area { padding: 12px; border-top: 1px solid rgba(255,255,255,0.1); display: flex; gap: 8px; }
        .chat-input { flex: 1; padding: 10px 14px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: white; font-size: 13px; outline: none; }
        .chat-input:focus { border-color: rgba(0,212,255,0.5); }
        .chat-send { width: 40px; height: 40px; background: linear-gradient(135deg, #00d4ff, #00ffcc); border: none; border-radius: 10px; color: #020205; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 2px; }
        
        /* RESPONSIVE - MOBILE FRIENDLY */
        @media (max-width: 1200px) {
            .grid { grid-template-columns: 240px 1fr 280px; }
        }
        @media (max-width: 1024px) {
            .grid {
                inset: 80px 16px 16px;
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
                gap: 16px;
            }
            .header-stats { gap: 12px; }
            .stat-pill { padding: 6px 12px; font-size: 11px; }
            .logo-text { font-size: 16px; }
            .logo-icon { width: 36px; height: 36px; font-size: 16px; }
        }
        @media (max-width: 768px) {
            .header { padding: 0 16px; height: 55px; }
            .header-stats { display: none; }
            .logo-text { font-size: 14px; }
            .logo-icon { width: 32px; height: 32px; font-size: 14px; }
            .grid { inset: 70px 12px 12px; gap: 12px; }
            .card { border-radius: 12px; }
            .card-header { padding: 12px 16px; }
            .card-body { padding: 16px; }
            .main-area { grid-template-rows: auto auto; }
            .pnl-value { font-size: 32px; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
            .metric-value { font-size: 20px; }
            .actions-grid { grid-template-columns: repeat(4, 1fr); }
            .chat-widget {
                right: 12px; left: 12px; bottom: 80px;
                width: auto;
            }
            .chat-messages { height: 150px; }
        }
        @media (max-width: 480px) {
            .logo-text span { display: none; }
            .logo-text:after { content: 'NEXUS'; }
            .metrics-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
            .metric-box { padding: 12px; }
            .metric-value { font-size: 18px; }
            .actions-grid { grid-template-columns: repeat(2, 1fr); }
            .bottom-panel { grid-template-columns: 1fr; }
            .chat-widget {
                right: 12px; left: 12px; bottom: 90px;
                width: auto; max-width: none;
            }
        }
        @media (max-width: 380px) {
            .chat-widget { bottom: 100px; }
            .pnl-value { font-size: 28px; }
        }
    </style>
</head>
<body>
    <canvas id="bg"></canvas>
    
    <header class="header">
        <div class="logo">
            <div class="logo-icon">‚ö°</div>
            <div class="logo-text">FACTORYOS <span>NEXUS</span></div>
        </div>
        <div class="header-stats">
            <div class="stat-pill"><div class="dot green"></div>26 Agentes Online</div>
            <div class="stat-pill"><div class="dot yellow"></div>4 Processando</div>
            <div class="stat-pill"><div class="dot green"></div>Uptime 99.9%</div>
        </div>
        <div style="font-size: 13px; color: rgba(255,255,255,0.4);" id="clock">16:09:32</div>
    </header>
    
    <div class="grid">
        <!-- LEFT: AGENTS -->
        <div class="card left-panel">
            <div class="card-header">
                <span class="card-title">üß† Agent Network</span>
                <span style="font-size: 12px; color: rgba(255,255,255,0.4);">26</span>
            </div>
            <div class="card-body">
                <div class="agents-list" id="agents-list"></div>
            </div>
        </div>
        
        <!-- MAIN: CHARTS & METRICS -->
        <div class="main-area">
            <div class="card">
                <div class="card-header">
                    <span class="card-title">üìà Trading Performance</span>
                </div>
                <div class="card-body" style="position: relative;">
                    <canvas id="pnl-chart"></canvas>
                    <div class="pnl-big">
                        <div class="pnl-value">+$12,450</div>
                        <div class="pnl-label">PnL Mensal ‚Ä¢ +12.5%</div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <span class="card-title">üìä System Metrics</span>
                </div>
                <div class="card-body">
                    <div class="metrics-grid">
                        <div class="metric-box">
                            <div class="metric-label">Projetos Ativos</div>
                            <div class="metric-value blue">4</div>
                            <div class="metric-change up">‚Üë 2 esta semana</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Receita M√™s</div>
                            <div class="metric-value green">$8,500</div>
                            <div class="metric-change up">‚Üë 15% vs M-1</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Trades/Dia</div>
                            <div class="metric-value purple">23</div>
                            <div class="metric-change up">Win Rate 68%</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Efici√™ncia</div>
                            <div class="metric-value yellow">87%</div>
                            <div class="metric-change up">‚Üë 5%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- RIGHT: TRADING -->
        <div class="card right-panel">
            <div class="card-header">
                <span class="card-title">üí∞ Active Positions</span>
                <span style="font-size: 12px; color: rgba(255,255,255,0.4);">3</span>
            </div>
            <div class="card-body">
                <div class="trades-list" id="trades-list"></div>
            </div>
        </div>
        
        <!-- BOTTOM: CONSOLE & ACTIONS -->
        <div class="bottom-panel">
            <div class="card">
                <div class="card-header">
                    <span class="card-title">‚ö° System Console</span>
                </div>
                <div class="card-body">
                    <div class="console-output" id="console"></div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <span class="card-title">üöÄ Quick Actions</span>
                </div>
                <div class="card-body">
                    <div class="actions-grid">
                        <button class="action-btn" onclick="cmd('projetos')">
                            <span class="action-icon">üìã</span>
                            <span>Projetos</span>
                        </button>
                        <button class="action-btn" onclick="cmd('novo projeto')">
                            <span class="action-icon">‚ûï</span>
                            <span>Novo Projeto</span>
                        </button>
                        <button class="action-btn" onclick="cmd('trading')">
                            <span class="action-icon">üìà</span>
                            <span>Trading</span>
                        </button>
                        <button class="action-btn" onclick="cmd('relatorio')">
                            <span class="action-icon">üìä</span>
                            <span>Relat√≥rio</span>
                        </button>
                        <button class="action-btn" onclick="cmd('agentes')">
                            <span class="action-icon">ü§ñ</span>
                            <span>Agentes</span>
                        </button>
                        <button class="action-btn" onclick="cmd('finan√ßas')">
                            <span class="action-icon">üíµ</span>
                            <span>Finan√ßas</span>
                        </button>
                        <button class="action-btn" onclick="cmd('status')">
                            <span class="action-icon">‚úÖ</span>
                            <span>Status</span>
                        </button>
                        <button class="action-btn" onclick="cmd('ajuda')">
                            <span class="action-icon">‚ùì</span>
                            <span>Ajuda</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- CHAT WIDGET -->
    <div class="chat-widget">
        <div class="chat-header">
            <div class="chat-avatar">ü§ñ</div>
            <div>
                <div class="chat-title">Omega AI</div>
                <div class="chat-status">Online ‚Ä¢ Processando comandos</div>
            </div>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chat-input" placeholder="Fale com Nexus..." onkeypress="if(event.key==='Enter')sendChat()">
            <button class="chat-send" onclick="sendChat()">‚û§</button>
        </div>
    </div>
    
    <script>
        // ========== CONFIG ==========
        const agents = [
            { name: 'brain', emoji: 'üß†', color: '#a855f7', task: 'Estrat√©gia OKR', status: 'online' },
            { name: 'scheduler', emoji: 'üìã', color: '#3b82f6', task: 'Cronogramas', status: 'busy' },
            { name: 'trader', emoji: 'üìà', color: '#10b981', task: 'Analisando BTC', status: 'busy' },
            { name: 'trend_analyst', emoji: 'üìä', color: '#f59e0b', task: 'Relat√≥rio di√°rio', status: 'online' },
            { name: 'quality_auditor', emoji: '‚úÖ', color: '#ef4444', task: 'QA Projects', status: 'online' },
            { name: 'crypto_analyst', emoji: '‚Çø', color: '#00d4ff', task: 'Sinais Trade', status: 'online' },
            { name: 'daily_planner', emoji: 'üìÖ', color: '#8b5cf6', task: 'Planejando dia', status: 'online' },
            { name: 'market_monitor', emoji: 'üì°', color: '#06b6d4', task: 'Scanning market', status: 'online' },
            { name: 'proposal_gen', emoji: 'üìù', color: '#ec4899', task: 'Gerando proposta', status: 'busy' },
            { name: 'billing', emoji: 'üí≥', color: '#22c55e', task: 'Processando invoice', status: 'online' }
        ];
        
        const trades = [
            { pair: 'BTC/USDT', size: '0.5 BTC', pnl: '+2.3%', icon: '‚Çø', color: '#f7931a' },
            { pair: 'ETH/USDT', size: '4.2 ETH', pnl: '+1.8%', icon: 'Œû', color: '#627eea' },
            { pair: 'SOL/USDT', size: '25 SOL', pnl: '-0.5%', icon: '‚óé', color: '#9945ff' }
        ];
        
        const consoleLines = [
            { time: '16:09:32', type: 'info', msg: 'brain: An√°lise OKR Q1 conclu√≠da' },
            { time: '16:09:30', type: 'success', msg: 'trader: Entrada BTC executada @ $104,230' },
            { time: '16:09:28', type: 'info', msg: 'trend_analyst: Relat√≥rio de mercado gerado' },
            { time: '16:09:25', type: 'warning', msg: 'market_monitor: Alerta ‚Äî VOL aumento 15%' },
            { time: '16:09:22', type: 'success', msg: 'billing: Invoice #2847 enviado ‚Äî $2,500' },
            { time: '16:09:20', type: 'info', msg: 'scheduler: Cronograma PROJ-005 atualizado' }
        ];
        
        const responses = {
            'projetos': 'üìã <strong>Projetos Ativos:</strong><br>‚Ä¢ PROJ-005: Omega/Nexus ‚Äî Em dev<br>‚Ä¢ PROJ-004: Trading Dashboard ‚Äî QA aprovado<br>‚Ä¢ PROJ-003: FactoryOS Dashboard ‚Äî ‚úÖ<br>‚Ä¢ PROJ-002: Melhoria Visual ‚Äî ‚úÖ',
            'trading': 'üí∞ <strong>Posi√ß√µes Abertas:</strong><br>‚Ä¢ BTC: +2.3% ($1,200)<br>‚Ä¢ ETH: +1.8% ($780)<br>‚Ä¢ SOL: -0.5% (-$230)<br><strong>Total:</strong> +$1,750',
            'finan√ßas': 'üíµ <strong>Resumo Financeiro:</strong><br>‚Ä¢ Receita: $8,500/m√™s<br>‚Ä¢ Despesas: $3,200<br>‚Ä¢ Lucro: $5,300 (62%)',
            'agentes': 'ü§ñ <strong>26 Agentes Online:</strong><br>‚Ä¢ üß† brain ‚Äî Estrat√©gia<br>‚Ä¢ üìà trader ‚Äî Trading<br>‚Ä¢ üìä trend_analyst ‚Äî Relat√≥rios<br>‚Ä¢ üìã scheduler ‚Äî Planejamento',
            'status': '‚úÖ <strong>Status Sistema:</strong><br>‚Ä¢ 26/26 agentes operacionais<br>‚Ä¢ Uptime: 99.9%<br>‚Ä¢ 4 processando<br>‚Ä¢ 0 erros',
            'ajuda': '‚ùì <strong>Comandos:</strong><br>‚Ä¢ projetos, trading, finan√ßas<br>‚Ä¢ status, agentes, novo projeto<br>‚Ä¢ "fala com [agente]"',
            'novo projeto': '‚ûï <strong>Criar Novo Projeto:</strong><br>Me diga: nome, objetivo e prioridade.<br>Eu crio a estrutura completa!',
            'relatorio': 'üìä <strong>Relat√≥rios:</strong><br>‚Ä¢ PnL Di√°rio: +$450<br>‚Ä¢ PnL Semanal: +$2,100<br>‚Ä¢ PnL Mensal: +$12,450'
        };
        
        // ========== RENDER AGENTS ==========
        document.getElementById('agents-list').innerHTML = agents.map(a => `
            <div class="agent-row" onclick="cmd('fala com ${a.name}')">
                <div class="agent-avatar" style="background:${a.color}20;color:${a.color}">${a.emoji}</div>
                <div class="agent-info">
                    <div class="agent-name">${a.name}</div>
                    <div class="agent-task">${a.task}</div>
                </div>
                <div class="agent-status" style="background:${a.status==='online'?'#10b981':'#f59e0b'};box-shadow:0 0 10px ${a.status==='online'?'#10b981':'#f59e0b'}"></div>
            </div>
        `).join('');
        
        // ========== RENDER TRADES ==========
        document.getElementById('trades-list').innerHTML = trades.map(t => `
            <div class="trade-row">
                <div class="trade-icon" style="background:${t.color}20;color:${t.color}">${t.icon}</div>
                <div class="trade-info">
                    <div class="trade-pair">${t.pair}</div>
                    <div class="trade-size">${t.size}</div>
                </div>
                <div class="trade-pnl ${t.pnl.startsWith('+')?'positive':'negative'}">${t.pnl}</div>
            </div>
        `).join('');
        
        // ========== RENDER CONSOLE ==========
        function addConsoleLine(line) {
            const c = document.getElementById('console');
            c.innerHTML += `
                <div class="console-line">
                    <span class="console-time">${line.time}</span>
                    <span class="console-type ${line.type}">[${line.type.toUpperCase()}]</span>
                    <span>${line.msg}</span>
                </div>
            `;
            c.scrollTop = c.scrollHeight;
        }
        consoleLines.forEach(addConsoleLine);
        
        // ========== PNL CHART (CANVAS) ==========
        const pnlCanvas = document.getElementById('pnl-chart');
        const pnlCtx = pnlCanvas.getContext('2d');
        function drawChart() {
            const rect = pnlCanvas.parentElement.getBoundingClientRect();
            pnlCanvas.width = rect.width;
            pnlCanvas.height = rect.height - 40;
            const w = pnlCanvas.width;
            const h = pnlCanvas.height;
            const data = [0, 2, 1, 3, 2, 5, 4, 6, 5, 8, 7, 9, 8, 11, 10, 12, 11, 13, 12];
            pnlCtx.clearRect(0, 0, w, h);
            // Grid
            pnlCtx.strokeStyle = 'rgba(255,255,255,0.05)';
            pnlCtx.lineWidth = 1;
            for(let i=0; i<5; i++) {
                const y = (h/5)*i;
                pnlCtx.beginPath(); pnlCtx.moveTo(0, y); pnlCtx.lineTo(w, y); pnlCtx.stroke();
            }
            // Line
            pnlCtx.beginPath();
            pnlCtx.strokeStyle = '#10b981';
            pnlCtx.lineWidth = 3;
            data.forEach((v, i) => {
                const x = (w/(data.length-1))*i;
                const y = h - (v/14)*h;
                if(i===0) pnlCtx.moveTo(x, y);
                else pnlCtx.lineTo(x, y);
            });
            pnlCtx.stroke();
            // Fill
            pnlCtx.lineTo(w, h);
            pnlCtx.lineTo(0, h);
            pnlCtx.fillStyle = 'rgba(16, 185, 129, 0.1)';
            pnlCtx.fill();
        }
        drawChart();
        window.addEventListener('resize', drawChart);
        
        // ========== BACKGROUND (PARTICLES) ==========
        const bg = document.getElementById('bg');
        const ctx = bg.getContext('2d');
        bg.width = window.innerWidth;
        bg.height = window.innerHeight;
        window.addEventListener('resize', () => { bg.width = window.innerWidth; bg.height = window.innerHeight; });
        
        const particles = [];
        for(let i=0; i<100; i++) {
            particles.push({
                x: Math.random()*bg.width,
                y: Math.random()*bg.height,
                size: Math.random()*2+0.5,
                speedX: (Math.random()-0.5)*0.3,
                speedY: (Math.random()-0.5)*0.3,
                opacity: Math.random()*0.5+0.1
            });
        }
        function animateBg() {
            ctx.fillStyle = '#020205';
            ctx.fillRect(0, 0, bg.width, bg.height);
            particles.forEach(p => {
                p.x += p.speedX;
                p.y += p.speedY;
                if(p.x<0) p.x=bg.width;
                if(p.x>bg.width) p.x=0;
                if(p.y<0) p.y=bg.height;
                if(p.y>bg.height) p.y=0;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fillStyle = `rgba(0,212,255,${p.opacity})`;
                ctx.fill();
            });
            requestAnimationFrame(animateBg);
        }
        animateBg();
        
        // ========== CLOCK ==========
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString('pt-BR');
        }, 1000);
        
        // ========== CONSOLE SIMULATION ==========
        setInterval(() => {
            const actions = [
                { type: 'info', msg: 'brain: Atualizando prioridades do dia' },
                { type: 'success', msg: 'scheduler: Tarefa PROJ-005 conclu√≠da' },
                { type: 'info', msg: 'trend_analyst: Verificando tend√™ncias' },
                { type: 'success', msg: 'crypto_analyst: Novo sinal detectado' },
                { type: 'warning', msg: 'market_monitor: Volume anormal em BTC' }
            ];
            const action = actions[Math.floor(Math.random()*actions.length)];
            const time = new Date().toLocaleTimeString('pt-BR');
            addConsoleLine({ time, ...action });
            if(document.getElementById('console').children.length > 20) {
                document.getElementById('console').removeChild(document.getElementById('console').firstChild);
            }
        }, 5000);
        
        // ========== CHAT ==========
        function addChat(msg, isUser) {
            const m = document.getElementById('chat-messages');
            m.innerHTML += `
                <div class="chat-msg ${isUser?'user':'omega'}">
                    <div class="msg-bubble">${msg}</div>
                </div>
            `;
            m.scrollTop = m.scrollHeight;
        }
        function sendChat() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if(!text) return;
            addChat(text, true);
            const key = text.toLowerCase().replace('fala com ', '').replace('fala ', '');
            const response = responses[key] || `üîÑ Processando: "${text}"...<br>Tente: projetos, trading, finan√ßas, status, ajuda.`;
            setTimeout(() => addChat(response, false), 400);
            input.value = '';
        }
        function cmd(c) {
            document.getElementById('chat-input').value = c;
            sendChat();
        }
        
        // ========== WELCOME ==========
        setTimeout(() => {
            addChat('üß† <strong>Bem-vindo ao FactoryOS Nexus!</strong><br>Digite um comando ou clique nos bot√µes.', false);
        }, 500);
    </script>
</body>
</html>
<!-- deploy Mon Feb 16 04:38:52 PM -03 2026 -->
